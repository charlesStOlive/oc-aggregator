<?php if ($this->user->hasAccess('waka.cloudis.admin')): ?>
<div data-control="toolbar">
    <a href="<?= Backend::url('waka/agg/agmonths/create') ?>" class="btn btn-primary oc-icon-plus">
        Nouvelle agrégation mensuel
    </a>


    <button class="btn btn-danger oc-icon-trash-o" disabled="disabled"
        onclick="$(this).data('request-data', { checked: $('.control-list').listWidget('getChecked') })"
        data-request="onDelete" data-request-confirm="Are you sure you want to delete the selected Ag Months?"
        data-trigger-action="enable" data-trigger=".control-list input[type=checkbox]" data-trigger-condition="checked"
        data-request-success="$(this).prop('disabled', 'disabled')" data-stripe-load-indicator>
        Delete selected
    </button>
    <button class="btn btn-danger oc-icon-trash-o" disabled="disabled"
        onclick="$(this).data('request-data', { checked: $('.control-list').listWidget('getChecked'), aggregateClass:'\\Waka\\Agg\\Models\\AgMonth' })"
        data-request="onAggregateChecked"
        data-request-confirm="Voulez vous aggreger les données. cela prendra du temps..." data-trigger-action="enable"
        data-trigger=".control-list input[type=checkbox]" data-trigger-condition="checked"
        data-request-success="$(this).prop('disabled', 'disabled')" data-stripe-load-indicator>
        Agréger la sélection
    </button>
    <button href="javascript:;" class="btn btn-secondary oc-icon-files-o "
        data-request-data="aggregateClass:'\\Waka\\Agg\\Models\\AgMonth'" data-control="popup"
        data-handler="onAggregateBehaviorPopupForm">
        Agrégation périodique
    </button>
</div>
<?php endif ?>